
* creating the auxiliar files

#+begin_src bash
  for f in ../../dhbb/text/*.text; do
      awk -v OFS="|" '/^natureza:/ {n=substr($0,11);} /^title:/ {t=substr($0,8);} END {print FILENAME,n,t}' $f ;
  done | grep "temático" > tematicos.txt
#+end_src

(same for biográficos)

* Fix names

#+begin_src lisp
  (with-open-file (out "biograficos.new" :direction :output :if-exists :supersede)
    (mapc (lambda (r) 
	    (let* ((n (cadr r))
		   (p (position #\, n))) 
	      (if p
		  (format out "~a|~a~%" (car r) (string-trim '(#\Space) (format nil "~a ~a" (subseq n (1+ p)) (subseq n 0 p))))
		  (format out "~a|~a~%" (car r) n)))) 
	  (fare-csv:read-csv-file "biograficos.txt")))
#+end_src

* Files

- code.py :: the main code

** biographic entries

*** titles only
  
- biograficos-titles.csv 
- biograficos-titles.json 
- biograficos.txt 

** tematic entries

*** titles only
  
- tematicos-titles.csv
- tematicos-titles.json
- tematicos.txt

*** spacy entries from text

- tematicos.csv (incomplete)

** output for =../dicionarios/AC DC Formulações políticas.txt=
  
- lst-formulacoes-politicas.csv 
- lst-formulacoes-politicas.json 

** output for =../dicionarios/AC DC Organizações-Partidos.txt= 
  
- lst-organizacoes-partidos.csv
- lst-organizacoes-partidos.json





