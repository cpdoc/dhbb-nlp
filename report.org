
Número de relações semânticas obtida com

#+BEGIN_SRC bash
$ awk '$0 ~ /^[0-9]+/ && $8 ~ /appos/ {split($10,a,"|"); print a[1]}' *-annotated.conllu {21..27}.conllu | sort | uniq -c | sort -n
#+END_SRC

#+name: teste
|   1 | &vinculo-pers    |
|   2 | &date-inv        |
|   2 | &part            |
|   9 | &attrib-inv      |
|   9 | &loc             |
|  13 | &vinculo-inst    |
|  21 | &vinculo-fam-inv |
|  28 | &vinculo-fam     |
|  38 | &date            |
|  40 | &role            |
|  43 | &attrib          |
|  51 | SpaceAfter=No    |
|  53 | &part-inv        |
|  90 | _                |
| 175 | &ident           |
| 216 | &role-inv        |


#+BEGIN_SRC elisp :var dados=teste
(apply #'+ (mapcar #'car dados))
#+END_SRC

#+RESULTS:
: 650

Tabela dos dados originais antes de alterar os arquivos:

#+name: tab1
| file      | app | npred | appos |
|-----------+-----+-------+-------|
| 2.conllu  |  21 |    25 |    58 |
| 3.conllu  |   2 |     8 |    12 |
| 4.conllu  |   4 |    12 |    24 |
| 5.conllu  |   3 |     2 |     6 |
| 6.conllu  |  19 |    11 |    30 |
| 7.conllu  |  19 |    39 |    68 |
| 8.conllu  |  40 |    59 |   142 |
| 9.conllu  |   8 |    18 |     9 |
| 10.conllu |  19 |    15 |    38 |
| 11.conllu |  11 |     9 |    15 |
| 12.conllu |   3 |     4 |     9 |
| 13.conllu |   8 |     5 |    13 |
| 14.conllu |   5 |     7 |    15 |
| 15.conllu |   4 |    34 |    42 |
| 16.conllu |   7 |     7 |    12 |
| 17.conllu |   4 |     6 |    13 |
| 18.conllu |  16 |    10 |    38 |
| 19.conllu |  16 |    27 |    30 |
| 20.conllu |   4 |     3 |    13 |
| 21.conllu |   2 |     9 |    15 |
| 22.conllu |  12 |    16 |    55 |
| 23.conllu |   8 |    16 |    27 |
| 24.conllu |   6 |     4 |    15 |
| 25.conllu |  25 |    30 |    94 |
| 26.conllu |  16 |    19 |    24 |
| 27.conllu |   4 |     3 |     6 |
| 28.conllu |   7 |    14 |    31 |
| 29.conllu |   3 |     9 |     7 |
| 30.conllu |   3 |     8 |    12 |

Tabela resultado do comando:

#+BEGIN_SRC bash
awk '$0 ~ /^[0-9]+/ && $8 ~ /appos/ {split($10,a,"|"); print FILENAME}' *-annotated.conllu {21..27}.conllu | sort | uniq -c  | sort -n
#+END_SRC

#+name: tab2
| rel | file      |
|-----+-----------|
|   7 | 27.conllu |
|   8 | 1.conllu  |
|   8 | 12.conllu |
|   8 | 3.conllu  |
|   9 | 5.conllu  |
|   9 | 9.conllu  |
|  10 | 17.conllu |
|  10 | 24.conllu |
|  11 | 14.conllu |
|  12 | 16.conllu |
|  12 | 21.conllu |
|  13 | 13.conllu |
|  13 | 20.conllu |
|  15 | 11.conllu |
|  24 | 26.conllu |
|  24 | 4.conllu  |
|  28 | 23.conllu |
|  32 | 19.conllu |
|  32 | 6.conllu  |
|  35 | 18.conllu |
|  36 | 15.conllu |
|  37 | 10.conllu |
|  53 | 22.conllu |
|  60 | 7.conllu  |
|  61 | 2.conllu  |
|  89 | 25.conllu |
| 135 | 8.conllu  |


#+name: tab3
#+BEGIN_SRC R :var tab1=tab1 :var tab2=tab2 :results table
tmp <- merge(tab1,tab2, by.x = "file", by.y = "file")
tmp$X <- tmp$rel - tmp$appos
tmp$Y <- tmp$rel - (tmp$app + tmp$npred)
tmp
#+END_SRC

#+RESULTS: tab3
| file      | app | npred | udpipe | golden | g-ud | g-pal |
|-----------+-----+-------+--------+--------+------+-------|
| 10.conllu |  19 |    15 |     38 |     37 |   -1 |     3 |
| 11.conllu |  11 |     9 |     15 |     15 |    0 |    -5 |
| 12.conllu |   3 |     4 |      9 |      8 |   -1 |     1 |
| 13.conllu |   8 |     5 |     13 |     13 |    0 |     0 |
| 14.conllu |   5 |     7 |     15 |     11 |   -4 |    -1 |
| 15.conllu |   4 |    34 |     42 |     36 |   -6 |    -2 |
| 16.conllu |   7 |     7 |     12 |     12 |    0 |    -2 |
| 17.conllu |   4 |     6 |     13 |     10 |   -3 |     0 |
| 18.conllu |  16 |    10 |     38 |     35 |   -3 |     9 |
| 19.conllu |  16 |    27 |     30 |     32 |    2 |   -11 |
| 2.conllu  |  21 |    25 |     58 |     61 |    3 |    15 |
| 20.conllu |   4 |     3 |     13 |     13 |    0 |     6 |
| 21.conllu |   2 |     9 |     15 |     12 |   -3 |     1 |
| 22.conllu |  12 |    16 |     55 |     53 |   -2 |    25 |
| 23.conllu |   8 |    16 |     27 |     28 |    1 |     4 |
| 24.conllu |   6 |     4 |     15 |     10 |   -5 |     0 |
| 25.conllu |  25 |    30 |     94 |     89 |   -5 |    34 |
| 26.conllu |  16 |    19 |     24 |     24 |    0 |   -11 |
| 27.conllu |   4 |     3 |      6 |      7 |    1 |     0 |
| 3.conllu  |   2 |     8 |     12 |      8 |   -4 |    -2 |
| 4.conllu  |   4 |    12 |     24 |     24 |    0 |     8 |
| 5.conllu  |   3 |     2 |      6 |      9 |    3 |     4 |
| 6.conllu  |  19 |    11 |     30 |     32 |    2 |     2 |
| 7.conllu  |  19 |    39 |     68 |     60 |   -8 |     2 |
| 8.conllu  |  40 |    59 |    142 |    135 |   -7 |    36 |
| 9.conllu  |   8 |    18 |      9 |      9 |    0 |   -17 |


#+BEGIN_SRC R :var dados=tab3 :results output
tmp <- colSums(dados[,-1])
#+END_SRC

#+RESULTS:
:  V2  V3  V4  V5  V6  V7 
: 286 398 823 783 -40  99 


pal 684
udp 823
gol 783
133 casos não anotados


* Pending

- quantas mudanças houve em cada arquivo mesmo? Os numeros refletem
  agregado mas podem ter sido tirados 10 e incluidas 11 somando 1 na
  tabela 3.

- tambem não sabemos se as relações mudaram pais/filhos.

